{% extends 'base.html' %}
{% load static %}

{% block title %}{{ faculty.name }} - MIU | Modern International University{% endblock %}

{% block meta_tags %}
<meta name="description" content="{{ faculty.meta_description|default:faculty.description|truncatewords:30 }}">
<meta name="keywords" content="{{ faculty.meta_keywords|default:'faculty, university programs, higher education, MIU' }}">
{% endblock %}

{% block canonical %}
<link rel="canonical" href="{{ request.build_absolute_uri }}">
{% endblock %}

{% block og_tags %}
<meta property="og:type" content="website">
<meta property="og:title" content="{{ faculty.name }} - MIU">
<meta property="og:description" content="{{ faculty.description|truncatewords:30 }}">
<meta property="og:url" content="{{ request.build_absolute_uri }}">
{% if faculty.about_image %}
<meta property="og:image" content="{{ request.scheme }}://{{ request.get_host }}{{ faculty.about_image.url }}">
{% else %}
<meta property="og:image" content="{% static 'images/og-image.jpg' %}">
{% endif %}
{% endblock %}

{% block twitter_tags %}
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ faculty.name }} - MIU">
<meta name="twitter:description" content="{{ faculty.description|truncatewords:30 }}">
{% if faculty.about_image %}
<meta name="twitter:image" content="{{ request.scheme }}://{{ request.get_host }}{{ faculty.about_image.url }}">
{% else %}
<meta name="twitter:image" content="{% static 'images/og-image.jpg' %}">
{% endif %}
{% endblock %}

{% block structured_data %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "EducationalOrganization",
  "name": "{{ faculty.name }}",
  "description": "{{ faculty.description }}",
  "url": "{{ request.build_absolute_uri }}",
  "parentOrganization": {
    "@type": "University",
    "name": "Modern International University"
  }
}
</script>
{% endblock %}

{% block content %}

<!-- Hero Section -->
<section class="relative bg-gradient-to-br from-primary-900 via-primary-950 to-purple-900 text-white py-20 lg:py-28 overflow-hidden" role="banner">
    <!-- Decorative Background -->
    <div class="absolute inset-0 opacity-10" aria-hidden="true">
        <div class="absolute top-20 left-10 w-64 h-64 bg-purple-300 rounded-full blur-3xl"></div>
        <div class="absolute bottom-20 right-10 w-96 h-96 bg-pink-300 rounded-full blur-3xl"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-primary-300 rounded-full blur-3xl opacity-50"></div>
    </div>
    
    <div class="container mx-auto relative z-10 px-4">
        <div class="max-w-5xl mx-auto">
            <!-- Breadcrumb Navigation -->
            <nav class="flex mb-8 text-sm" aria-label="Breadcrumb">
                <ol class="inline-flex items-center space-x-2" itemscope itemtype="https://schema.org/BreadcrumbList">
                    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        <a href="{% url 'eduweb:index' %}" itemprop="item" class="text-{{ faculty.color_primary }}-200 hover:text-white transition-colors focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-{{ faculty.color_primary }}-900 rounded">
                            <span itemprop="name">Home</span>
                        </a>
                        <meta itemprop="position" content="1" />
                    </li>
                    <li aria-hidden="true"><i data-lucide="chevron-right" class="w-4 h-4 text-{{ faculty.color_primary }}-300"></i></li>
                    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        <span itemprop="name" class="text-{{ faculty.color_primary }}-200">Faculties</span>
                        <meta itemprop="position" content="2" />
                    </li>
                    <li aria-hidden="true"><i data-lucide="chevron-right" class="w-4 h-4 text-{{ faculty.color_primary }}-300"></i></li>
                    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        <span itemprop="name" class="text-white font-medium">{{ faculty.name }}</span>
                        <meta itemprop="position" content="3" />
                    </li>
                </ol>
            </nav>

            <!-- Faculty Header -->
            <div class="flex flex-col sm:flex-row items-start sm:items-center gap-6 mb-8">
                <div class="w-20 h-20 lg:w-24 lg:h-24 bg-gradient-to-br from-{{ faculty.color_primary }}-400 to-{{ faculty.color_secondary }}-500 rounded-2xl flex items-center justify-center shadow-2xl flex-shrink-0" aria-hidden="true">
                    <i data-lucide="{{ faculty.icon }}" class="w-10 h-10 lg:w-12 lg:h-12 text-white"></i>
                </div>
                <div class="flex-1">
                    {% if faculty.tagline %}
                    <p class="text-{{ faculty.color_primary }}-200 text-sm lg:text-base font-medium mb-2">{{ faculty.tagline }}</p>
                    {% endif %}
                    <h1 class="text-3xl sm:text-4xl lg:text-6xl font-bold font-display leading-tight">{{ faculty.name }}</h1>
                </div>
            </div>
            
            {% if faculty.description %}
            <p class="text-lg lg:text-xl text-{{ faculty.color_primary }}-100 mb-10 leading-relaxed max-w-4xl">
                {{ faculty.description|truncatewords:40 }}
            </p>
            {% endif %}
            
            <!-- CTA Buttons -->
            <div class="flex flex-col sm:flex-row flex-wrap gap-4">
                <a href="{% url 'eduweb:apply' %}" 
                   class="px-6 lg:px-8 py-3 lg:py-4 bg-white text-primary-950 rounded-xl font-semibold hover:bg-purple-50 transition-all duration-300 shadow-xl hover:shadow-2xl hover:scale-105 inline-flex items-center justify-center gap-2 focus:outline-none focus:ring-4 focus:ring-white focus:ring-offset-2 focus:ring-offset-primary-950"
                   aria-label="Apply to {{ faculty.name }}">
                    Apply Now
                    <i data-lucide="arrow-right" class="w-5 h-5" aria-hidden="true"></i>
                </a>
                <a href="#programs" 
                   class="px-6 lg:px-8 py-3 lg:py-4 border-2 border-white text-white rounded-xl font-semibold hover:bg-white hover:text-primary-950 transition-all duration-300 inline-flex items-center justify-center gap-2 focus:outline-none focus:ring-4 focus:ring-white focus:ring-offset-2 focus:ring-offset-primary-950"
                   aria-label="Explore programs in {{ faculty.name }}">
                    Explore Programs
                    <i data-lucide="graduation-cap" class="w-5 h-5" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Quick Stats -->
<section class="py-12 lg:py-16 bg-gradient-to-br from-{{ faculty.color_primary }}-50 to-{{ faculty.color_secondary }}-50" aria-labelledby="stats-heading">
    <div class="container mx-auto px-4">
        <h2 id="stats-heading" class="sr-only">Faculty Statistics</h2>
        <div class="grid grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8 max-w-6xl mx-auto">
            <!-- Students -->
            <div class="text-center" data-aos="fade-up">
                <div class="w-14 h-14 lg:w-16 lg:h-16 bg-gradient-to-br from-{{ faculty.color_primary }}-600 to-{{ faculty.color_secondary }}-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg" aria-hidden="true">
                    <i data-lucide="users" class="w-7 h-7 lg:w-8 lg:h-8 text-white"></i>
                </div>
                <h3 class="text-2xl lg:text-3xl font-bold text-gray-900 mb-2">{{ faculty.student_count|default:"4,000+" }}</h3>
                <p class="text-sm lg:text-base text-gray-600">Active Students</p>
            </div>
            
            <!-- Placement Rate -->
            <div class="text-center" data-aos="fade-up" data-aos-delay="100">
                <div class="w-14 h-14 lg:w-16 lg:h-16 bg-gradient-to-br from-{{ faculty.color_secondary }}-600 to-{{ faculty.color_primary }}-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg" aria-hidden="true">
                    <i data-lucide="briefcase" class="w-7 h-7 lg:w-8 lg:h-8 text-white"></i>
                </div>
                <h3 class="text-2xl lg:text-3xl font-bold text-gray-900 mb-2">{{ faculty.placement_rate|default:"95" }}%</h3>
                <p class="text-sm lg:text-base text-gray-600">Career Placement</p>
            </div>
            
            <!-- Partners -->
            <div class="text-center" data-aos="fade-up" data-aos-delay="200">
                <div class="w-14 h-14 lg:w-16 lg:h-16 bg-gradient-to-br from-{{ faculty.color_primary }}-500 to-{{ faculty.color_secondary }}-500 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg" aria-hidden="true">
                    <i data-lucide="building" class="w-7 h-7 lg:w-8 lg:h-8 text-white"></i>
                </div>
                <h3 class="text-2xl lg:text-3xl font-bold text-gray-900 mb-2">{{ faculty.partner_count|default:"500+" }}</h3>
                <p class="text-sm lg:text-base text-gray-600">Industry Partners</p>
            </div>
            
            <!-- International Faculty -->
            <div class="text-center" data-aos="fade-up" data-aos-delay="300">
                <div class="w-14 h-14 lg:w-16 lg:h-16 bg-gradient-to-br from-{{ faculty.color_secondary }}-500 to-{{ faculty.color_primary }}-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg" aria-hidden="true">
                    <i data-lucide="globe" class="w-7 h-7 lg:w-8 lg:h-8 text-white"></i>
                </div>
                <h3 class="text-2xl lg:text-3xl font-bold text-gray-900 mb-2">{{ faculty.international_faculty|default:"85" }}%</h3>
                <p class="text-sm lg:text-base text-gray-600">International Faculty</p>
            </div>
        </div>
    </div>
</section>

<!-- About Faculty -->
<section class="py-16 lg:py-24 bg-white" aria-labelledby="about-heading">
    <div class="container mx-auto px-4">
        <div class="grid lg:grid-cols-2 gap-10 lg:gap-16 items-center max-w-7xl mx-auto">
            <!-- Content -->
            <div class="order-2 lg:order-1">
                <h2 id="about-heading" class="text-3xl lg:text-4xl font-bold text-gray-900 mb-6 font-display">About {{ faculty.name }}</h2>
                <div class="h-1 w-20 lg:w-24 bg-gradient-to-r from-{{ faculty.color_primary }}-600 to-{{ faculty.color_secondary }}-500 mb-6" aria-hidden="true"></div>
                
                <div class="prose prose-lg max-w-none">
                    {% if faculty.description %}
                    <p class="text-base lg:text-lg text-gray-700 mb-6 leading-relaxed">{{ faculty.description }}</p>
                    {% endif %}
                    
                    <!-- Mission -->
                    {% if faculty.mission %}
                    <div class="bg-{{ faculty.color_primary }}-50 p-6 lg:p-8 rounded-2xl border border-{{ faculty.color_primary }}-100 mb-6 transition-all duration-300 hover:shadow-lg">
                        <h3 class="text-lg lg:text-xl font-bold text-gray-900 mb-3 flex items-center gap-2">
                            <i data-lucide="target" class="w-5 h-5 text-{{ faculty.color_primary }}-600" aria-hidden="true"></i>
                            Our Mission
                        </h3>
                        <p class="text-gray-700 leading-relaxed">{{ faculty.mission }}</p>
                    </div>
                    {% endif %}
                    
                    <!-- Vision -->
                    {% if faculty.vision %}
                    <div class="bg-{{ faculty.color_secondary }}-50 p-6 lg:p-8 rounded-2xl border border-{{ faculty.color_secondary }}-100 transition-all duration-300 hover:shadow-lg">
                        <h3 class="text-lg lg:text-xl font-bold text-gray-900 mb-3 flex items-center gap-2">
                            <i data-lucide="eye" class="w-5 h-5 text-{{ faculty.color_secondary }}-600" aria-hidden="true"></i>
                            Our Vision
                        </h3>
                        <p class="text-gray-700 leading-relaxed">{{ faculty.vision }}</p>
                    </div>
                    {% endif %}
                </div>
                
                <!-- Accreditation -->
                {% if faculty.accreditation %}
                <div class="mt-8 space-y-4">
                    <div class="flex items-start gap-4 p-5 lg:p-6 bg-{{ faculty.color_primary }}-50 rounded-2xl transition-all duration-300 hover:shadow-lg border border-{{ faculty.color_primary }}-100">
                        <div class="w-12 h-12 bg-{{ faculty.color_primary }}-600 rounded-xl flex items-center justify-center flex-shrink-0" aria-hidden="true">
                            <i data-lucide="award" class="w-6 h-6 text-white"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-gray-900 mb-2 text-base lg:text-lg">Accreditation & Recognition</h4>
                            <p class="text-gray-600 text-sm lg:text-base">{{ faculty.accreditation }}</p>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
            
            <!-- Image -->
            <div class="relative order-1 lg:order-2">
                {% if faculty.about_image %}
                <div class="aspect-[4/3] bg-gradient-to-br from-{{ faculty.color_primary }}-200 to-{{ faculty.color_secondary }}-200 rounded-3xl overflow-hidden shadow-2xl transition-transform duration-300 hover:scale-[1.02]">
                    <img src="{{ faculty.about_image.url }}" 
                         alt="{{ faculty.name }} - Students and faculty" 
                         class="w-full h-full object-cover"
                         loading="lazy">
                </div>
                {% else %}
                <div class="aspect-[4/3] bg-gradient-to-br from-{{ faculty.color_primary }}-200 to-{{ faculty.color_secondary }}-200 rounded-3xl overflow-hidden shadow-2xl flex items-center justify-center">
                    <i data-lucide="{{ faculty.icon }}" class="w-24 h-24 lg:w-32 lg:h-32 text-white opacity-50" aria-hidden="true"></i>
                </div>
                {% endif %}
                
                <!-- Decorative Elements -->
                <div class="absolute -bottom-6 -left-6 w-32 h-32 lg:w-40 lg:h-40 bg-{{ faculty.color_primary }}-100 rounded-3xl opacity-20 -z-10" aria-hidden="true"></div>
                <div class="absolute -top-6 -right-6 w-24 h-24 lg:w-32 lg:h-32 bg-{{ faculty.color_secondary }}-100 rounded-3xl opacity-20 -z-10" aria-hidden="true"></div>
            </div>
        </div>
    </div>
</section>

<!-- Programs Section -->
<section id="programs" class="py-16 lg:py-24 bg-gradient-to-br from-gray-50 to-{{ faculty.color_primary }}-50" aria-labelledby="programs-heading">
    <div class="container mx-auto px-4">
        <div class="text-center mb-12 lg:mb-16 max-w-3xl mx-auto">
            <h2 id="programs-heading" class="text-3xl lg:text-4xl font-bold text-gray-900 mb-4 font-display">Our Programs</h2>
            <div class="h-1 w-20 lg:w-24 bg-gradient-to-r from-{{ faculty.color_primary }}-600 to-{{ faculty.color_secondary }}-500 mx-auto mb-6" aria-hidden="true"></div>
            <p class="text-lg lg:text-xl text-gray-600">
                Choose from our comprehensive range of programs designed for career success in {{ faculty.name }}.
            </p>
        </div>

        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8 max-w-7xl mx-auto">
            {% for course in courses %}
            <article class="bg-white rounded-2xl p-6 lg:p-8 shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border border-{{ faculty.color_primary }}-100 flex flex-col">
                <div class="w-14 h-14 lg:w-16 lg:h-16 bg-gradient-to-br from-{{ course.color_primary }}-500 to-{{ course.color_secondary }}-600 rounded-2xl flex items-center justify-center mb-6 shadow-lg flex-shrink-0" aria-hidden="true">
                    <i data-lucide="{{ course.icon }}" class="w-7 h-7 lg:w-8 lg:h-8 text-white"></i>
                </div>
                
                <h3 class="text-xl lg:text-2xl font-bold text-gray-900 mb-4">
                    <a href="{% url 'eduweb:course_detail' course.slug %}" class="hover:text-{{ faculty.color_primary }}-600 transition-colors focus:outline-none focus:underline">
                        {{ course.name }}
                    </a>
                </h3>
                
                {% if course.tagline %}
                <p class="text-gray-600 mb-6 leading-relaxed flex-grow">
                    {{ course.tagline }}
                </p>
                {% endif %}
                
                <!-- Degree Levels -->
                {% if course.degree_levels %}
                <ul class="space-y-3 mb-6" role="list">
                    {% for level in course.degree_levels|slice:":3" %}
                    <li class="flex items-center gap-2 text-sm lg:text-base text-gray-700">
                        <i data-lucide="check-circle" class="w-5 h-5 text-{{ faculty.color_primary }}-600 flex-shrink-0" aria-hidden="true"></i>
                        <span>{{ level }}</span>
                    </li>
                    {% endfor %}
                </ul>
                {% endif %}
                
                <a href="{% url 'eduweb:course_detail' course.slug %}" 
                   class="inline-flex items-center gap-2 text-{{ faculty.color_primary }}-600 font-semibold hover:gap-3 transition-all mt-auto focus:outline-none focus:underline"
                   aria-label="Learn more about {{ course.name }}">
                    Learn More
                    <i data-lucide="arrow-right" class="w-5 h-5" aria-hidden="true"></i>
                </a>
            </article>
            {% empty %}
            <div class="col-span-full text-center py-16">
                <i data-lucide="inbox" class="w-16 h-16 text-gray-400 mx-auto mb-4" aria-hidden="true"></i>
                <p class="text-gray-500 text-lg">No programs are currently available in this faculty.</p>
                <a href="{% url 'eduweb:index' %}" class="inline-flex items-center gap-2 text-{{ faculty.color_primary }}-600 font-semibold mt-4 hover:gap-3 transition-all">
                    Explore Other Faculties
                    <i data-lucide="arrow-right" class="w-5 h-5" aria-hidden="true"></i>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Special Features -->
{% if faculty.special_features %}
<section class="py-16 lg:py-24 bg-white" aria-labelledby="features-heading">
    <div class="container mx-auto px-4">
        <div class="text-center mb-12 lg:mb-16 max-w-3xl mx-auto">
            <h2 id="features-heading" class="text-3xl lg:text-4xl font-bold text-gray-900 mb-4 font-display">Distinctive Features</h2>
            <div class="h-1 w-20 lg:w-24 bg-gradient-to-r from-{{ faculty.color_primary }}-600 to-{{ faculty.color_secondary }}-500 mx-auto mb-6" aria-hidden="true"></div>
            <p class="text-lg lg:text-xl text-gray-600">
                What sets our {{ faculty.name }} apart from others.
            </p>
        </div>

        <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8 max-w-7xl mx-auto">
            {% for feature in faculty.special_features %}
            <div class="bg-gradient-to-br from-{{ faculty.color_primary }}-50 to-{{ faculty.color_secondary }}-50 rounded-2xl p-6 lg:p-8 border border-{{ faculty.color_primary }}-100 text-center transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
                <div class="w-14 h-14 lg:w-16 lg:h-16 bg-{{ faculty.color_primary }}-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg" aria-hidden="true">
                    <i data-lucide="{{ feature.icon|default:'star' }}" class="w-7 h-7 lg:w-8 lg:h-8 text-white"></i>
                </div>
                <h3 class="text-lg lg:text-xl font-bold text-gray-900 mb-3">{{ feature.title }}</h3>
                <p class="text-sm lg:text-base text-gray-700 leading-relaxed">{{ feature.description }}</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="py-16 lg:py-20 bg-gradient-to-br from-accent-700 via-accent-600 to-gold-600 text-white relative overflow-hidden">
    <div class="absolute inset-0 opacity-10" aria-hidden="true">
        <div class="absolute top-0 left-0 w-96 h-96 bg-accent-300 rounded-full blur-3xl"></div>
        <div class="absolute bottom-0 right-0 w-96 h-96 bg-gold-300 rounded-full blur-3xl"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-accent-400 rounded-full blur-3xl opacity-30"></div>
    </div>
    
    <div class="container mx-auto text-center relative z-10 px-4">
        <h2 class="text-3xl lg:text-4xl font-bold mb-6 font-display max-w-3xl mx-auto">Ready to Start Your Journey in {{ faculty.name }}?</h2>
        <p class="text-lg lg:text-xl text-accent-100 mb-10 max-w-2xl mx-auto leading-relaxed">
            Join thousands of successful students who have transformed their careers through our programs.
        </p>
        <div class="flex flex-col sm:flex-row flex-wrap justify-center gap-4 lg:gap-6">
            <a href="{% url 'eduweb:apply' %}" 
               class="px-6 lg:px-8 py-3 lg:py-4 bg-white text-accent-900 rounded-xl font-semibold hover:bg-accent-50 transition-all duration-300 shadow-xl hover:shadow-2xl hover:scale-105 inline-flex items-center justify-center gap-2 focus:outline-none focus:ring-4 focus:ring-white focus:ring-offset-2 focus:ring-offset-accent-700">
                Apply Now
                <i data-lucide="arrow-right" class="w-5 h-5" aria-hidden="true"></i>
            </a>
            <a href="#contact" 
               class="px-6 lg:px-8 py-3 lg:py-4 border-2 border-white text-white rounded-xl font-semibold hover:bg-white hover:text-accent-900 transition-all duration-300 inline-flex items-center justify-center gap-2 focus:outline-none focus:ring-4 focus:ring-white focus:ring-offset-2 focus:ring-offset-accent-700">
                Contact Faculty
                <i data-lucide="mail" class="w-5 h-5" aria-hidden="true"></i>
            </a>
        </div>
    </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    lucide.createIcons();
});
</script>

{% endblock %}